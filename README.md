## Fyyur Project Details

-----

### Introduction

Fyyur is a musical venue and artist booking site that facilitates the discovery and bookings of shows between local performing artists and venues. This site lets you list new artists and venues, discover them, and list shows with artists as a venue owner.

Your job is to build out the data models to power the API endpoints for the Fyyur site by connecting to a PostgreSQL database for storing, querying, and creating information about artists and venues on Fyyur.

### Overview

This app is nearly complete. It is only missing one thing… real data! While the views and controllers are defined in this application, it is missing models and model interactions to be able to store retrieve, and update data from a database. By the end of this project, you should have a fully functioning site that is at least capable of doing the following, if not more, using a PostgreSQL database:

* creating new venues, artists, and creating new shows.
* searching for venues and artists.
* learning more about a specific artist or venue.

We want Fyyur to be the next new platform that artists and musical venues can use to find each other, and discover new music shows. Let's make that happen!

### Prerequisites
- You must have the **HTML**, **CSS**, and **Javascript** with [Bootstrap 3](https://getbootstrap.com/docs/3.4/customize/) for our website's frontend. If you are working locally, further instructions are contained in the repo README file.

Install [Bootstrap 3](https://getbootstrap.com/docs/3.3/getting-started/) for the website's frontend:
```
npm init -y
npm install bootstrap@3
```
- Python 3.9 should be installed globally, preferably managed with [**pyenv**](https://github.com/pyenv/pyenv)
- Install [**postgresql**](https://www.postgresql.org/download/)
- Install [**poetry**](https://python-poetry.org/docs/) for virtual environment and dependencies management. 

## Main Files: Project Structure

  ```sh
  ├── README.md
  ├── app.py *** the main driver of the app.
                    "python app.py" to run after installing dependencies
  ├── config.py *** Database URLs, CSRF generation, etc
  ├── error.log
  ├── forms.py *** Your forms
  ├── model.py *** Your models
  ├── poetry.lock *** Generated by poetry
  ├── pyproject.toml *** The dependencies we need to install with "poetry install --no-root"
  ├── util.py *** Helper functions
  ├── validate.py *** Helper functions
  ├── static
  │   ├── css 
  │   ├── font
  │   ├── ico
  │   ├── img
  │   └── js
  └── templates
      ├── errors
      ├── forms
      ├── layouts
      └── pages
  ```

Overall:
* Models are located of `model.py`.
* Controllers are also located in `app.py`.
* The web frontend is located in `templates/`, which builds static assets deployed to the web server at `static/`.
* Web forms for creating data are located in `forms.py`

## Development Setup
1. **Setup virtual environment and install the dependencies:**
```
poetry install --no-root
```
2. **Create postgres DB 'fyyur'**:
```
sudo -Hiu postgres createdb fyyur
```
3. **Run flask-migrate to create the tables/relationships in the DB**
```
flask db init
flask db migrate -m 'Init migration'
flask db upgrade
```

4. **Run the development server:**
```
export FLASK_APP=app.py
export FLASK_ENV=development # enables debug mode
poetry run python app.py
```

3. **Verify on the Browser**<br>
Navigate to project homepage in the virtual desktop (by clicking the DESKTOP button in the workspace) [http://127.0.0.1:5000/] (http://127.0.0.1:5000/) or [http://localhost:5000](http://localhost:5000) or in your local virtual environment. 
